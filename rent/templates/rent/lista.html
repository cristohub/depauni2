


{% extends 'core/base.html' %}

{% block content %}


<!-- Contenedor Loading -->
<div id="loading" style="
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: white; display: flex; justify-content: center; align-items: center;
  z-index: 9999;
">
  <div id="animacion" style="width: 200px; height: 200px;"></div>




</div>


<div id="contenido" style="display:none;">   




    <div class="portada-azul">
  <div class="d-flex justify-content-center align-items-center text-center">
    <h1 class="titulo-portada-entrada"style="padding: 50px 0">
     Encuentra tu Departamento Ideal
    </h1>
  </div>
</div>






    <div class=" bg-white bodercus" style="margin-top: -30px ; position: relative; padding-top: 50px;  ">
        {% load static %}








        


    <form method="get">
        <label for="fecha_inicio">Fecha de inicio (trimestre):</label>
        <input type="date" id="fecha_inicio" name="fecha_inicio" value="{{ fecha_inicio }}">
        <button type="submit">Filtrar</button>
    </form>

    <p>Mostrando disponibilidad desde {{ fecha_inicio }} hasta {{ fecha_fin }}</p>


    <div class="container py-4">
        <div class="row">
            {% for depto in departamentos %}
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm border-0 rounded-4">
                    
                    
                    <img src="{{ depto.imagen_destacada_url|default:'/static/img/no-image.png' }}" class="card-img-top rounded-top-4" alt="Imagen departamento">


                        <div class="card-body">
                            <h5 class="card-title">Suite Individual</h5>
                            <p class="card-text fw-bold text-primary fs-4">
                                {{ depto.rent_price }}$ <small class="text-muted fs-6">/Mes</small>
                            </p>
                            <p class="card-text">
                                <img src="{% static 'rent/img/area.png' %}" alt="Área" style="width: 37px; height: auto; margin-right: 6px;">
                                {{ depto.area_m2 }} M²
                            </p>
                            <a href="{% url 'detalle_departamento' depto.id %}" class="btn w-100 rounded-pill text-white" style="background: linear-gradient(to right, #315CA7 0%, #132441 100%); border: none;">
                                Ver Detalles
                            </a>
                            </div>
                    </div>
                </div>
            {% empty %}
                <p>No hay departamentos disponibles en este rango de fechas.</p>
            {% endfor %}
        </div>

        
    </div>

        




    </div>




</div>

{% endblock %}



{% block scripts %}
  <!-- Carga la librería Lottie desde CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.9.6/lottie.min.js"></script>
  
  <script src="{% static 'rent/js/custom.js' %}"></script>
{% endblock %}












